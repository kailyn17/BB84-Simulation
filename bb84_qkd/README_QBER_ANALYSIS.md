# 📈 QBER 與攔截比例圖像模擬 | QBER vs Intercept Ratio Simulation

本模組 `qber_vs_intercept_ratio.py` 用於繪製 BB84 協定中，**攔截比例與 QBER（Quantum Bit Error Rate）之間的變化圖**。可視化攔截攻擊對密鑰錯誤率的影響，有助於進一步理解量子金鑰分發的安全性。

---

## 🧪 模擬概念

模擬過程中，設定 Eve 以不同攔截比例（0～1）對 qubit 進行測量，再將 qubit 傳給 Bob。

- 攔截比例越高，Eve 對通訊干擾越強
- QBER 為 Alice 與 Bob 產生密鑰的錯誤比例
- 圖表展示 QBER 隨攔截比例變化的趨勢

---

## 🔐 錯誤模型與 QBER 安全性補強（回應教授建議）

為回應教授建議，本節補充攔截攻擊造成的錯誤來源與 QBER 安全性意涵：

### 🔸 錯誤來源說明：

在 BB84 協定中，即使無攻擊，也可能因下列因素導致錯誤：
- 環境雜訊（如光子偏振誤差、光纖衰減）
- 測量設備的不穩定性

若 Eve 對 qubit 進行攔截測量，則會額外導致以下錯誤：

| 攻擊情境                             | 錯誤來源與影響                  |
|--------------------------------------|---------------------------------|
| Eve 隨機選擇測量基底 → 傳送錯誤 qubit | Bob 測量結果與 Alice 不一致       |
| 攔截比例愈高 → 錯誤累積愈多             | QBER（錯誤率）明顯上升             |

舉例：Eve 攔截全部 qubit，則約有一半基底選錯 → 測量錯誤率約 50%，配對後的密鑰會產生約 25% QBER，此為經典攔截上限。

---

### 🔸 QBER 安全性門檻說明：

BB84 協定中，QBER 是判定通訊是否安全的重要依據：

- 當 QBER ≦ 11% 時，理論上仍可透過資訊回收與隱私放大進行密鑰修復  
- 當 QBER > 11% 時，通常視為存在攔截行為，協定應棄用該批密鑰

本模擬圖表即呈現 QBER 隨攔截比例的變化趨勢，並可作為協定安全性門檻的可視化參考。

---

## 💻 執行方式

```bash
python qber_vs_intercept_ratio.py

執行後會：

自動產生 QBER 與攔截比率的圖像

將圖片儲存於 images/qber_vs_intercept_ratio.png

✅ 預設模擬 qubit 數量為 500，圖像 Y 軸上限設為 0.6，方便視覺對比
✅ 圖檔可用於教學、報告或與其他模組比對

| 攔截比例 | 預期 QBER |
| ---- | ------- |
| 0.0  | 約 0.0   |
| 0.5  | 約 0.25  |
| 1.0  | 約 0.5   |

圖像預期呈現遞增趨勢，代表攻擊強度越高，錯誤率越高。

📎 注意事項
請確認 images/ 資料夾存在，否則圖片將無法儲存

若原檔名為 .png.png 請改為 .png 以利後續使用與顯示

可自行修改 n 值調整模擬長度（預設 500）

🧱 模組總覽
| 模組名稱                         | 功能定位       | 說明               |
| ---------------------------- | ---------- | ---------------- |
| `qber_vs_intercept_ratio.py` | 📈 錯誤率分析模組 | QBER 對攔截比例之關係圖繪製 |
| `eve_basic_attack.py`        | ⚠️ 攻擊模擬    | 攔截單次攻擊的錯誤率觀察     |
| `bb84_basic.py`              | ✅ 對照模組     | 無攻擊時的理想密鑰產生流程    |

🛡️ 開發備註
使用套件：matplotlib、random（請先安裝 matplotlib）

所有邏輯封裝於 plot_qber_vs_intercept_ratio() 函式中

適用於教學演示、錯誤率分析、模組對照


---

